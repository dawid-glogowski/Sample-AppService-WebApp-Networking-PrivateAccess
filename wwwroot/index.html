<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>App Service Connectivity Tester</title>
    <style>
        body { font-family: Arial; margin: 40px; }
        input { width: 400px; padding: 8px; }
        button { padding: 8px 16px; }
        pre { background: #f4f4f4; padding: 20px; }
    </style>
</head>
<body>
    <h2>App Service Connectivity Tester</h2>
    <p>Wpisz URL do przetestowania (np. https://microsoft.com lub https://10.0.1.4:443)</p>

    <input id="url" value="https://www.microsoft.com" />
    <button onclick="test()">Testuj</button>

    <h3>Wynik:</h3>
    <pre id="output"></pre>

    <script>
        async function test() {
            const url = document.getElementById("url").value;
            const res = await fetch(`/api/test?target=${encodeURIComponent(url)}`);
            const json = await res.json();
            document.getElementById("output").textContent = JSON.stringify(json, null, 2);
        }
    </script>
</body>
</html>
